{"title":"","type":"page","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":" // how many bars do we want to draw? Max of 128. var bars = 128, hue=320; // add the bar elements to the container div: for (var i=0; i","date":"2023-11-05T05:46:25.200Z","updated":"2022-05-17T01:26:52.000Z","comments":true,"path":"api/pages/js/jamsetting.js","covers":null,"content":"\n\n\t\t// how many bars do we want to draw? Max of 128.\n\t\tvar bars = 128, hue=320;\n\n\t\t// add the bar elements to the container div:\n\t\tfor (var i=0; i<bars; i++) {\n\t\t\tvar bar = document.createElement(\"div\");\n\t\t\tbar.className = \"bar\";\n\t\t\tcontainer.appendChild(bar);\n\t\t}\n\t\t\n\t\t// create a new JAM instance:\n\t\tvar jam = new JustAddMusic({\n\t\t\t // default audio to load:\n\t\t\n\t\t\tpaused:true,\n\t\t\tdeltaT:150,\n              avgT:150,\n\t\t\t// label text to include in the UI (bottom left)\n\n\n\n\t\t\tvolume:0,\n\t\t\t// set the number of spectrum values we'd like to get back:\n\t\t\tspectrumBins: bars,\n\n\t\t\t// the ontick callback, called 60 time per second by default\n\t\t\t// with the latest audio data object as the only parameter\n\t\t\tontick: function(o) {\n\t\t\t\t// change the base hue value on a bass hit:\n\t\t\t\tif (o.low.hit) { hue = (hue+100)%360; }\n\n\t\t\t\tfor (var i=0; i<bars; i++) {\n\t\t\t\t\t// update bars based on the spectrum values:\n\t\t\t\t\tvar style = container.childNodes[i].style, val = o.spectrum[i];\n\t\t\t\t\tstyle.height = val*20+\"%\";\n\t\t\t\t\tstyle.background = \"hsl(\"+ (hue-val*180) +\",\"+ (val*50+50) +\"%,\"+ (val*40+20) +\"%)\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n \nsetTimeout(function(){\t \n\njam.loadAudio(ap.audio.currentSrc);\n$(\".aplayer-list\").click(function(){\n\t              ap.volume(0, true);\n  \t\t\t\t  setTimeout(function(){jam.loadAudio(ap.audio.currentSrc);console.log(ap.audio.currentSrc)},500);\n\t\t\t\t  setTimeout(function(){ap.play();ap.seek(0);jam.seek(0);ap.volume(1, true)},4000);\n});\n$(\".aplayer-icon-back\").click(function(){\n\t              ap.volume(0, true);\n  \t\t\t\t  setTimeout(function(){jam.loadAudio(ap.audio.currentSrc);console.log(ap.audio.currentSrc)},500);\n\t\t\t\t  setTimeout(function(){ap.play();ap.seek(0);jam.seek(0);ap.volume(1, true)},4000);\n});\n$(\".aplayer-icon-forward\").click(function(){\n\t              ap.volume(0, true);\n  \t\t\t\t  setTimeout(function(){jam.loadAudio(ap.audio.currentSrc);console.log(ap.audio.currentSrc)},500);\n\t\t\t\t  setTimeout(function(){ap.play();ap.seek(0);jam.seek(0);ap.volume(1, true)},4000);\n});\nconsole.log(ap.audio.currentSrc)},1500);\n\n\n\n\nconsole.log(\"\\n %c JustAddMusic 30b23c7 %c https://github.com/gskinner/JustAddMusic \\n\", \"color: #fadfa3; background: #030307; padding:5px 0;\", \"background: #fadfa3; padding:5px 0;\")","count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"toc":"","data":[]}