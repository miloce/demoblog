{"title":"Linux 实用命令","uid":"f5ef2525f20c0d8b39c411893fc255bb","slug":"Linux-实用命令","date":"2022-05-12T09:03:00.000Z","updated":"2023-01-13T15:55:18.000Z","comments":true,"path":"api/articles/Linux-实用命令.json","keywords":"C语言,Cpp,Linux,GoPython,算法,编程技术","cover":[],"content":"<h2 id=\"实用命令：\"><a href=\"#实用命令：\" class=\"headerlink\" title=\"实用命令：\"></a>实用命令：</h2><h3 id=\"1、查看端口占用情况\"><a href=\"#1、查看端口占用情况\" class=\"headerlink\" title=\"1、查看端口占用情况\"></a>1、查看端口占用情况</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看该端口是否被占用</span></span><br><span class=\"line\">netstat -lnp|grep 5000</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看端口是否被占用</span></span><br><span class=\"line\">lsof -i:<span class=\"string\">&#x27;5000&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 杀死端口占用进程，根据进程号杀死</span></span><br><span class=\"line\"><span class=\"built_in\">kill</span> -9 28533</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 再次查看，如果查看时候提示命令不存在 ：</span></span><br><span class=\"line\"><span class=\"comment\"># 需要先安装一下命令</span></span><br><span class=\"line\">yum -y install net-tools</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 最常见的还有防火墙</span></span><br><span class=\"line\">yum install firewalld</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2、查看空间使用清理\"><a href=\"#2、查看空间使用清理\" class=\"headerlink\" title=\"2、查看空间使用清理\"></a>2、查看空间使用清理</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看空间使用情况</span></span><br><span class=\"line\"><span class=\"built_in\">df</span> -h</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看当前目录下空间使用情况</span></span><br><span class=\"line\"><span class=\"built_in\">du</span> -lh --max-depth=1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3、按时间批量删除文件\"><a href=\"#3、按时间批量删除文件\" class=\"headerlink\" title=\"3、按时间批量删除文件\"></a>3、按时间批量删除文件</h3><p>需要根据时间删除这个目录下的文件，&#x2F;home&#x2F;lifeccp&#x2F;dicom&#x2F;studies，清理掉20天之前的无效数据。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find /home/lifeccp/dicom/studies -mtime +21 -name <span class=\"string\">&quot;*.*&quot;</span> -<span class=\"built_in\">exec</span> <span class=\"built_in\">rm</span> -Rf &#123;&#125; \\;</span><br></pre></td></tr></table></figure>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>简要解释该Shell命令</p></blockquote>\n<ul>\n<li>&#x2F;home&#x2F;lifeccp&#x2F;dicom&#x2F;studies ：准备要进行清理的任意目录</li>\n<li>-mtime：标准语句写法</li>\n<li>＋10：查找10天前的文件，这里用数字代表天数，＋30表示查找30天前的文件</li>\n<li>“*.*“：希望查找的数据类型，”*.jpg”表示查找扩展名为jpg的所有文件，”*“表示查找所有文件</li>\n<li>-exec：固定写法</li>\n<li>rm -rf：强制删除文件，包括目录</li>\n<li> {} \\; ：固定写法，一对大括号+空格+&#x2F;+;</li>\n</ul>\n<p>注意：在我本人使用的时候，发现可能会存在1-2天的延后误差，比如：删除10天前的，可能删除了12天前的，大家执行完可以检查一下</p>\n<h3 id=\"4、按时间查找文件\"><a href=\"#4、按时间查找文件\" class=\"headerlink\" title=\"4、按时间查找文件\"></a>4、按时间查找文件</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>根据日期查找相关文件</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># /recordings/ 查找的目录 ，默认当前目录</span></span><br><span class=\"line\"><span class=\"built_in\">ls</span> --full-time /recordings/ | sed -n <span class=\"string\">&#x27;/2018-03-21/p&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>按照日期范围查找相关文件</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find images/ -newermt <span class=\"string\">&#x27;2021-01-01&#x27;</span> ! -newermt <span class=\"string\">&#x27;2021-01-31&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 按时间范围拷贝文件到另一台服务器（内网）</span></span><br><span class=\"line\">scp -p ssh端口（22）<span class=\"string\">&#x27;文件路径&#x27;</span> <span class=\"string\">&#x27;目标主机账号&#x27;</span>@<span class=\"string\">&#x27;IP&#x27;</span>:<span class=\"string\">&#x27;存放到目标路径&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p> 统计文件个数</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># wc -l 统计文件个数</span></span><br><span class=\"line\"><span class=\"built_in\">ls</span> --full-time /recordings/ | sed -n <span class=\"string\">&#x27;/2018-03-21/p&#x27;</span> | <span class=\"built_in\">wc</span> -l</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5、文件、文件夹统计\"><a href=\"#5、文件、文件夹统计\" class=\"headerlink\" title=\"5、文件、文件夹统计\"></a>5、文件、文件夹统计</h3><h4 id=\"5-1、个数统计\"><a href=\"#5-1、个数统计\" class=\"headerlink\" title=\"5.1、个数统计\"></a>5.1、个数统计</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Linux 中可以通过 <span class=\"built_in\">ls</span> -l 或者 find -<span class=\"built_in\">type</span> f 来统计文件、文件夹的个数，具体操作如下。</span><br><span class=\"line\">查看某文件夹下文件的个数：</span><br><span class=\"line\"><span class=\"built_in\">ls</span> -l | grep <span class=\"string\">&quot;^-&quot;</span> | <span class=\"built_in\">wc</span> -l</span><br><span class=\"line\"><span class=\"comment\"># ls -l 列出文件及文件夹</span></span><br><span class=\"line\"><span class=\"comment\"># &quot;^-&quot; 以-开头的行 文件以-开头 文件夹以d开头</span></span><br><span class=\"line\"><span class=\"comment\"># wc -l 统计行数</span></span><br><span class=\"line\">或者可以：</span><br><span class=\"line\">find ./ -<span class=\"built_in\">type</span> f | <span class=\"built_in\">wc</span> -l</span><br><span class=\"line\"><span class=\"comment\"># ./ 在当前目录查找</span></span><br><span class=\"line\"><span class=\"comment\"># -type f 文件类型 -name &quot;*.conf*&quot; 根据文件后缀查找</span></span><br><span class=\"line\"><span class=\"comment\"># wc -l 统计行数</span></span><br><span class=\"line\">查看某文件夹下文件的个数，包括子文件夹：</span><br><span class=\"line\"><span class=\"built_in\">ls</span> -lR | grep <span class=\"string\">&quot;^-&quot;</span> | <span class=\"built_in\">wc</span> -l</span><br><span class=\"line\"><span class=\"comment\"># -R 递归列出子目录的文件</span></span><br><span class=\"line\">查看某文件夹下文件夹的个数，包括子文件夹：</span><br><span class=\"line\"><span class=\"built_in\">ls</span> -lR | grep <span class=\"string\">&quot;^d&quot;</span> | <span class=\"built_in\">wc</span> -l</span><br><span class=\"line\"><span class=\"comment\"># &quot;^d&quot; 以d开头的行</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"5-2、大小统计\"><a href=\"#5-2、大小统计\" class=\"headerlink\" title=\"5.2、大小统计\"></a>5.2、大小统计</h4><p><em>使用 du、df、free 进行统计，详细见下</em></p>\n<h5 id=\"1、du详解\"><a href=\"#1、du详解\" class=\"headerlink\" title=\"1、du详解\"></a><em>1、du详解</em></h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2.1 <span class=\"built_in\">du</span> 详解</span><br><span class=\"line\">Linux <span class=\"built_in\">du</span> 命令用于显示目录或文件的大小。</span><br><span class=\"line\"><span class=\"built_in\">du</span> 会显示指定的目录或文件所占用的磁盘空间。</span><br><span class=\"line\">语法：</span><br><span class=\"line\"><span class=\"built_in\">du</span> [-abcDhHklmsSx] [目录或文件]</span><br><span class=\"line\">参数说明：</span><br><span class=\"line\">-a 或 -all：显示目录中文件的大小，单位 KB</span><br><span class=\"line\">-b：显示目录中文件的大小，以字节 byte 为单位</span><br><span class=\"line\">-c：显示目录中文件的大小，同时显示总和，单位 KB</span><br><span class=\"line\">-k：显示目录中文件的大小，单位 KB</span><br><span class=\"line\">-m：显示目录中文件的大小，单位 MB</span><br><span class=\"line\">-s：仅显示目录的总值，单位 KB</span><br><span class=\"line\">-h：--human-readable 以K，M，G为单位，提高信息的可读性。</span><br><span class=\"line\">-x：以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。</span><br><span class=\"line\">-H：--si 与 -h参数相同，但是 K、M、G是以1000为换算单位</span><br><span class=\"line\">--max-depth = 1 ：遍历深度</span><br><span class=\"line\">实例：</span><br><span class=\"line\"><span class=\"built_in\">du</span> -h * <span class=\"comment\"># 显示当前目录下文件的大小</span></span><br><span class=\"line\"><span class=\"built_in\">du</span> -sh <span class=\"comment\"># 查看当前文件夹大小</span></span><br><span class=\"line\"><span class=\"built_in\">du</span> -sh * | <span class=\"built_in\">sort</span> -nr <span class=\"comment\"># 统计当前文件夹（目录）大小，并按文件大小排序 -- 加了-h之后排序有问题</span></span><br><span class=\"line\"><span class=\"built_in\">du</span> -sk filename <span class=\"comment\"># 查看指定文件大小</span></span><br><span class=\"line\">使用 <span class=\"built_in\">sort</span> 的参数 -nr 表示要以数字排序法进行反向排序，因为我们要对目录大小做排序，所以不可以使用 human-readable 的大小输出，不然目录大小中会有 K、M 等字样，会造成排序不正确。</span><br><span class=\"line\">如果有一个进程在打开一个大文件的时候，这个大文件直接被 <span class=\"built_in\">rm</span> 或者<span class=\"built_in\">mv</span> 掉，则 <span class=\"built_in\">du</span> 会更新统计数值，<span class=\"built_in\">df</span> 不会更新统计数值，还是认为空间没有释放。直到这个打开大文件的进程被Kill掉。</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2、df详解\"><a href=\"#2、df详解\" class=\"headerlink\" title=\"2、df详解\"></a>2、df详解</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2.2 <span class=\"built_in\">df</span> 详解</span><br><span class=\"line\">Linux <span class=\"built_in\">df</span> 命令显示磁盘分区上可以使用的磁盘空间。</span><br><span class=\"line\"><span class=\"built_in\">df</span> 可以查看一级文件夹大小、使用比例、档案系统及其挂入点，但对文件却无能为力。</span><br><span class=\"line\"><span class=\"built_in\">du</span>可以查看文件及文件夹的大小。</span><br><span class=\"line\">两者配合使用，非常有效。</span><br><span class=\"line\">比如用 <span class=\"built_in\">df</span> 查看哪个一级目录过大，然后用 <span class=\"built_in\">du</span> 查看文件夹或文件的大小，如此便可迅速确定症结。</span><br><span class=\"line\">语法：</span><br><span class=\"line\"><span class=\"built_in\">df</span> [选项] [file]</span><br><span class=\"line\">参数说明：</span><br><span class=\"line\">-a： --all 包含所有的具有 0 Blocks 的文件系统，单位默认 KB</span><br><span class=\"line\">-h：使用 -h 选项以 KB、MB、GB 的单位来显示，可读性高~~~（最常用）</span><br><span class=\"line\">-i：查看目前档案系统 inode 的使用情形</span><br><span class=\"line\">有的时候虽然档案系统还有空间，但若没有足够的 inode 来存放档案的信息，一样会不能增加新的档案。</span><br><span class=\"line\">所谓的 inode 是用来存放档案及目录的基本信息 (metadata)，包含时间、档名、使用者及群组等。在分割扇区时，系统会先做出一堆 inode 以供以后使用，inode 的数量关系着系统中可以建立的档案及目录总数。如果要存的档案大部分都很小，则同样大小的硬盘中会有较多的档案，也就是说需要较多的 inode 来挂档案及目录。</span><br><span class=\"line\">实例：</span><br><span class=\"line\"><span class=\"built_in\">df</span> -h</span><br><span class=\"line\">Filesystem            Size  Used Avail Use% Mounted on</span><br><span class=\"line\">/dev/sda1             3.9G  300M  3.4G   8% /</span><br><span class=\"line\">/dev/sda7             100G  188M   95G   1% /data0</span><br><span class=\"line\">/dev/sdb1             133G   80G   47G  64% /data1</span><br><span class=\"line\">/dev/sda6             7.8G  218M  7.2G   3% /var</span><br><span class=\"line\">/dev/sda5             7.8G  166M  7.2G   3% /tmp</span><br><span class=\"line\">/dev/sda3             9.7G  2.5G  6.8G  27% /usr</span><br><span class=\"line\">tmpfs                 2.0G     0  2.0G   0% /dev/shm</span><br><span class=\"line\">Filesystem -- 档案系统</span><br><span class=\"line\">Mounted on -- 挂入点</span><br><span class=\"line\">size -- 分区容量</span><br><span class=\"line\">Used -- 已使用的大小</span><br><span class=\"line\">Avail -- 剩下的大小</span><br><span class=\"line\">Use% -- 使用的百分比</span><br><span class=\"line\">FreeBSD下，当硬盘容量已满时，可能会看到已使用的百分比超过 100%，因为 FreeBSD 会留一些空间给 root，让 root 在档案系统满时，还是可以写东西到该档案系统中，以进行管理。</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"3、free详解\"><a href=\"#3、free详解\" class=\"headerlink\" title=\"3、free详解\"></a>3、free详解</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2.3 free 详解</span><br><span class=\"line\">Linux free 命令可以显示 Linux 系统中空闲的、已用的物理内存及交互区内存（swap），及被内核使用的 buffer（内核缓冲区内存）。共享内存将被忽略。</span><br><span class=\"line\">语法：</span><br><span class=\"line\">free [参数]</span><br><span class=\"line\">             total       used       free     shared    buffers     cached</span><br><span class=\"line\">Mem:      32948032   32767416     180616          0     139960   29878896</span><br><span class=\"line\">-/+ buffers/cache:    2748560   30199472</span><br><span class=\"line\">Swap:      8193140     664956    7528184</span><br><span class=\"line\">参数说明：</span><br><span class=\"line\">-b：以 Byte 为单位显示内存使用情况</span><br><span class=\"line\">-k：以 KB 为单位显示内存使用情况</span><br><span class=\"line\">-m：以 MB 为单位显示内存使用情况</span><br><span class=\"line\">-g：以 GB 为单位显示内存使用情况</span><br><span class=\"line\">-t：显示内存综合列</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6、查看系统信息\"><a href=\"#6、查看系统信息\" class=\"headerlink\" title=\"6、查看系统信息\"></a>6、查看系统信息</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>查看内核版本</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看内核</span></span><br><span class=\"line\"><span class=\"built_in\">uname</span> -r</span><br></pre></td></tr></table></figure>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>查看系统信息</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看系统信息</span></span><br><span class=\"line\">lsb_release -a</span><br><span class=\"line\"><span class=\"comment\"># 没有以上的命令，可使用一下命令查看 XX为发行版名称。如 centos-release</span></span><br><span class=\"line\">Cat /etc/xxx-release</span><br></pre></td></tr></table></figure>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p> 查看内核和操作系统相关信息</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看内核</span></span><br><span class=\"line\"><span class=\"built_in\">uname</span> -r</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看操作系统相关信息</span></span><br><span class=\"line\"><span class=\"built_in\">uname</span> -a</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看宽带实时使用率</span></span><br><span class=\"line\">nload</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"7、开放及查看端口\"><a href=\"#7、开放及查看端口\" class=\"headerlink\" title=\"7、开放及查看端口\"></a>7、开放及查看端口</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>查看已开放端口</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看开放端口</span></span><br><span class=\"line\">firewall-cmd --list-ports</span><br></pre></td></tr></table></figure>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>开放及关闭端口（开放后需要要重启防火墙才生效）</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 开放单个端口</span></span><br><span class=\"line\">firewall-cmd --zone=public --add-port=8080/tcp --permanent</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 开放多个端口</span></span><br><span class=\"line\">firewall-cmd --zone=public --add-port=20000-29999/tcp --permanent</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 关闭端口</span></span><br><span class=\"line\">firewall-cmd --zone=public --remove-port=8080/tcp --permanent</span><br></pre></td></tr></table></figure>\n\n<p><strong>（–permanent  为永久生效，不加为单次有效（重启失效））</strong></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p> 防火墙操作</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看防火墙状态</span></span><br><span class=\"line\">systemctl status firewalld</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 开启防火墙</span></span><br><span class=\"line\">systemctl start firewalld</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 关闭防火墙</span></span><br><span class=\"line\">systemctl stop firewalld</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重启防火墙</span></span><br><span class=\"line\">systemctl restart firewalld</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 开机自启</span></span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> firewalld</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 开机禁用</span></span><br><span class=\"line\">systemctl <span class=\"built_in\">disable</span> firewalld</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"8、文件夹或文件权限赋予\"><a href=\"#8、文件夹或文件权限赋予\" class=\"headerlink\" title=\"8、文件夹或文件权限赋予\"></a>8、文件夹或文件权限赋予</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>给.sh文件赋予可执行权限</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> +x  文件名</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 示例</span></span><br><span class=\"line\"><span class=\"built_in\">chmod</span> +x test.sh</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"8-1、符号类型修改法\"><a href=\"#8-1、符号类型修改法\" class=\"headerlink\" title=\"8.1、符号类型修改法\"></a>8.1、符号类型修改法</h4><p>我们把九个权限分别是 <strong>user，group，others</strong>三种身份，借由<strong>u、g、o</strong>来代表，采用<strong>a</strong>表示所有权限，其余的<strong>r、w、x</strong>分别代表读、写、执行权限。使用如下表的方法</p>\n<p><img src=\"https://static.luozhinet.com/c2/854d62d4b7088a7fcecaa22c44acec\"></p>\n<p>比如我们要对一个文件权限为“-rwxr-xr–”修改为“-rwxrwxr-x”,则需要对用户组身份的权限追加<strong>w</strong>权限，对其他用户追加<strong>x</strong> 权限，所以这样执行：<br>  <strong>chmod g+w, o+x filename</strong> 或者 <strong>chmod g&#x3D;rwx, o&#x3D;rx filename</strong></p>\n<h3 id=\"9、扩展命令\"><a href=\"#9、扩展命令\" class=\"headerlink\" title=\"9、扩展命令\"></a><strong>9、扩展命令</strong></h3><h4 id=\"9-1、命令间隔执行\"><a href=\"#9-1、命令间隔执行\" class=\"headerlink\" title=\"9.1、命令间隔执行\"></a><strong>9.1、命令间隔执行</strong></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 单条命令间隔执行 </span></span><br><span class=\"line\"><span class=\"comment\"># -d 高亮显示本次刷新和上次刷新不同的地方  如：-d &quot;data&quot;</span></span><br><span class=\"line\"><span class=\"comment\"># -t 可执行复合命令 如： &quot;ps -ef | grep ps&quot;</span></span><br><span class=\"line\">watch -l 1 <span class=\"string\">&#x27;ls&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 更多帮助</span></span><br><span class=\"line\">watch --<span class=\"built_in\">help</span></span><br></pre></td></tr></table></figure>","text":"实用命令：1、查看端口占用情况123456789101112131415# 查看该端口是否被占用netstat -lnp|grep 5000# 查看端口是否被占...","permalink":"/post/Linux-实用命令","photos":[],"count_time":{"symbolsCount":"5.4k","symbolsTime":"5 mins."},"categories":[{"name":"技术教程","slug":"技术教程","count":4,"path":"api/categories/技术教程.json"}],"tags":[{"name":"linux","slug":"linux","count":1,"path":"api/tags/linux.json"},{"name":"实用命令","slug":"实用命令","count":1,"path":"api/tags/实用命令.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A\"><span class=\"toc-text\">实用命令：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1%E3%80%81%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5\"><span class=\"toc-text\">1、查看端口占用情况</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2%E3%80%81%E6%9F%A5%E7%9C%8B%E7%A9%BA%E9%97%B4%E4%BD%BF%E7%94%A8%E6%B8%85%E7%90%86\"><span class=\"toc-text\">2、查看空间使用清理</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3%E3%80%81%E6%8C%89%E6%97%B6%E9%97%B4%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">3、按时间批量删除文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4%E3%80%81%E6%8C%89%E6%97%B6%E9%97%B4%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">4、按时间查找文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5%E3%80%81%E6%96%87%E4%BB%B6%E3%80%81%E6%96%87%E4%BB%B6%E5%A4%B9%E7%BB%9F%E8%AE%A1\"><span class=\"toc-text\">5、文件、文件夹统计</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#5-1%E3%80%81%E4%B8%AA%E6%95%B0%E7%BB%9F%E8%AE%A1\"><span class=\"toc-text\">5.1、个数统计</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#5-2%E3%80%81%E5%A4%A7%E5%B0%8F%E7%BB%9F%E8%AE%A1\"><span class=\"toc-text\">5.2、大小统计</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1%E3%80%81du%E8%AF%A6%E8%A7%A3\"><span class=\"toc-text\">1、du详解</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2%E3%80%81df%E8%AF%A6%E8%A7%A3\"><span class=\"toc-text\">2、df详解</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3%E3%80%81free%E8%AF%A6%E8%A7%A3\"><span class=\"toc-text\">3、free详解</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6%E3%80%81%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">6、查看系统信息</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7%E3%80%81%E5%BC%80%E6%94%BE%E5%8F%8A%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3\"><span class=\"toc-text\">7、开放及查看端口</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8%E3%80%81%E6%96%87%E4%BB%B6%E5%A4%B9%E6%88%96%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E8%B5%8B%E4%BA%88\"><span class=\"toc-text\">8、文件夹或文件权限赋予</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-1%E3%80%81%E7%AC%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B%E4%BF%AE%E6%94%B9%E6%B3%95\"><span class=\"toc-text\">8.1、符号类型修改法</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9%E3%80%81%E6%89%A9%E5%B1%95%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">9、扩展命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#9-1%E3%80%81%E5%91%BD%E4%BB%A4%E9%97%B4%E9%9A%94%E6%89%A7%E8%A1%8C\"><span class=\"toc-text\">9.1、命令间隔执行</span></a></li></ol></li></ol></li></ol>","author":{"name":"Miloce","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2855595515&s=640","link":"/","description":"我们徜徉在璀璨夺目的星辰之下，乘风破浪驰骋在这比特之海","socials":{"github":"https://github.com/miloce","twitter":"https://x.com/jystnet?s=09","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7647256486","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-fill","link":"https://space.bilibili.com/518758949"},"douyin":{"icon":"iconfont icon-douyin","link":"https://www.douyin.com/user/MS4wLjABAAAA2ti_VUrbdGrI4X2IAXbXs5PI9Yb8XsU0eR5hrI_TGtg"},"QQ":{"icon":"iconfont icon-QQ","link":"https://wpa.qq.com/msgrd?v=3&uin=2855595515&site=qq&menu=yes&jumpflag=1"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"Python发送邮件","uid":"5d2cae0b2edfc85d0a8cc862969d7e7f","slug":"Python发送邮件","date":"2022-05-12T09:51:00.000Z","updated":"2023-01-13T15:59:16.000Z","comments":true,"path":"api/articles/Python发送邮件.json","keywords":"C语言,Cpp,Linux,GoPython,算法,编程技术","cover":null,"text":"Python发送邮件smtplib 是 Python 用来发送邮件的模块，email 是用来处理邮件消息 这里，我们使用装饰器来制作发送邮件的功能 一、 文本信...","permalink":"/post/Python发送邮件","photos":[],"count_time":{"symbolsCount":"6k","symbolsTime":"5 mins."},"categories":[{"name":"技术教程","slug":"技术教程","count":4,"path":"api/categories/技术教程.json"}],"tags":[{"name":"python","slug":"python","count":1,"path":"api/tags/python.json"},{"name":"邮箱","slug":"邮箱","count":1,"path":"api/tags/邮箱.json"},{"name":"函数","slug":"函数","count":1,"path":"api/tags/函数.json"},{"name":"smtp","slug":"smtp","count":1,"path":"api/tags/smtp.json"}],"author":{"name":"Miloce","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2855595515&s=640","link":"/","description":"我们徜徉在璀璨夺目的星辰之下，乘风破浪驰骋在这比特之海","socials":{"github":"https://github.com/miloce","twitter":"https://x.com/jystnet?s=09","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7647256486","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-fill","link":"https://space.bilibili.com/518758949"},"douyin":{"icon":"iconfont icon-douyin","link":"https://www.douyin.com/user/MS4wLjABAAAA2ti_VUrbdGrI4X2IAXbXs5PI9Yb8XsU0eR5hrI_TGtg"},"QQ":{"icon":"iconfont icon-QQ","link":"https://wpa.qq.com/msgrd?v=3&uin=2855595515&site=qq&menu=yes&jumpflag=1"}}}},"feature":true},"next_post":{"title":"告别无法访问的Github","uid":"153b55ed301a0acf9ad4435d4749d473","slug":"Github无法访问解决办法","date":"2021-03-28T09:10:00.000Z","updated":"2023-01-13T15:45:16.000Z","comments":true,"path":"api/articles/Github无法访问解决办法.json","keywords":"C语言,Cpp,Linux,GoPython,算法,编程技术","cover":null,"text":"最近在使用github的时候又登不上去了据说是某些不可描述的有关组织机构对该网站的DNS污染或者随机丢包造成的 什么是DNS污染呢？ 本来很多域名对应的IP地址...","permalink":"/post/Github无法访问解决办法","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"技术教程","slug":"技术教程","count":4,"path":"api/categories/技术教程.json"}],"tags":[{"name":"github","slug":"github","count":1,"path":"api/tags/github.json"},{"name":"dns","slug":"dns","count":1,"path":"api/tags/dns.json"}],"author":{"name":"Miloce","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2855595515&s=640","link":"/","description":"我们徜徉在璀璨夺目的星辰之下，乘风破浪驰骋在这比特之海","socials":{"github":"https://github.com/miloce","twitter":"https://x.com/jystnet?s=09","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7647256486","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-fill","link":"https://space.bilibili.com/518758949"},"douyin":{"icon":"iconfont icon-douyin","link":"https://www.douyin.com/user/MS4wLjABAAAA2ti_VUrbdGrI4X2IAXbXs5PI9Yb8XsU0eR5hrI_TGtg"},"QQ":{"icon":"iconfont icon-QQ","link":"https://wpa.qq.com/msgrd?v=3&uin=2855595515&site=qq&menu=yes&jumpflag=1"}}}}}}